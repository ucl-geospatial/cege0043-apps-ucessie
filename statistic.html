
<DOCTYPE html>
  <html lang="en">
  <head>
    <!-- Use correct character set. -->
    <meta charset="utf-8">
    <!-- boostrap -->
    <!-- Tell IE to use the latest, best version. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- custom fonts and styles for the bootstrap template -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"  crossorigin="anonymous">
    <link href="css/sb-admin-2.css" type="text/css" rel="stylesheet">

    <title>Quiz App Help Page</title>
    <!-- adapted from: https://blackrockdigital.github.io/startbootstrap-sb-admin-2/ -->
  </head>
  <body id="page-top">
    <!-- Whole page -->
    <div id="wrapper" class="bg-gradient-secondary">
      <!-- Main Content -->
      <div id="content-wrapper" class="d-flex flex-column">
        <!-- Content display-->
        <div class="row justify-content-center">
          <h1>Display Statistic</h1>
          <h5 id="current_time"></h5><br>
          <svg width="1000" height="500"></svg>

        </div>
      </div>
      <!-- End of Main Content -->
    </div>
    <!-- end of wrapper -->

  </body>
  <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>

  <!-- Bootstrap core JavaScript-->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="js/sb-admin-2.js"></script>


<script>
// display current time
// adapt from w3 school
setInterval(myTimer, 1000);

function myTimer() {
  var d = new Date();
  var t = d.toLocaleTimeString();
  document.getElementById("current_time").innerHTML = t;
}

</script>
<!-- Test Graph -->
<script>
const svg     = d3.select("svg"),
      margin  = {top: 20, right: 20, bottom: 30, left: 50},
      width   = +svg.attr("width")  - margin.left - margin.right,
      height  = +svg.attr("height") - margin.top  - margin.bottom,
      x       = d3.scaleBand().rangeRound([0, width]).padding(0.2),
      y       = d3.scaleLinear().rangeRound([height, 0]),
      g       = svg.append("g")
                   .attr("transform", `translate(${margin.left},${margin.top})`);

d3.json("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_hour.geojson").then(data => {
  data = data.features;
  console.log(data);
  x.domain(data.map(d => d.properties.place));
  y.domain([0, d3.max(data, d => d.properties.mag)]);

  g.append("g")
      .attr("class", "axis axis-x")
      .attr("transform", `translate(0,${height})`)
      .call(d3.axisBottom(x));


  g.append("g")
      .attr("class", "axis axis-y")
      .call(d3.axisLeft(y).ticks(10).tickSize(8));

  g.selectAll(".bar")
    .data(data)
    .enter().append("rect")
      .attr("class", "bar")
      .attr("x", d => x(d.properties.place))
      .attr("y", d => y(d.properties.mag))
      .attr("width", x.bandwidth())
      .attr("height", d => height - y(d.properties.mag));
})
.catch(err => {
  svg.append("text")
        .attr("y", 20)
        .attr("text-anchor", "left")
        .style("font-size", "20px")
        .style("font-weight", "bold")
        .text(`Couldn't open the data file: "${err}".`);
});


</script>

</html>
