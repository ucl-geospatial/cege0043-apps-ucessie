<DOCTYPE html>
  <html lang="en">
  <head>
    <!-- Use correct character set. -->
    <meta charset="utf-8">

    <!-- leaflet map -->
    <!-- the following links add the CSS and Javascript required for the Leaflet Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css" integrity="sha512-wcw6ts8Anuw10Mzh9Ytw4pylW8+NAD4ch3lqm9lzAsTxg0GFeJgoAtxuCLREZSC5lUXdVyo/7yfsqFjQ4S+aKw==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet.js" integrity="sha512-mNqn2Wg7tSToJhvHcqfzLMU6J4mkOImSPTxVZAdo+lcPlk+GhZmYgACEe0x35K7YzW1zJ7XyJV/TT1MrdXvMcA==" crossorigin=""></script>
    <!-- the following CSS is used to set the size of the Map -->
    <style type="text/css"> #mapid { height: 180px; } </style>
    <!-- the following links incorporate the CSS required for custom icon creation -->
    <link rel="stylesheet" href="ionicons.min.css">
    <link rel="stylesheet" href="leaflet.awesome-markers.css">
    <script src="leaflet.awesome-markers.js"></script>


    <!-- boostrap -->
    <!-- Tell IE to use the latest, best version. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- custom fonts and styles for the bootstrap template -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"  crossorigin="anonymous">
    <link href="css/sb-admin-2.css" type="text/css" rel="stylesheet">

    <title>Bootstrap Simplified Template</title>
    <!-- adapted from: https://blackrockdigital.github.io/startbootstrap-sb-admin-2/ -->
  </head>
  <body id="page-top" onload="trackLocation()">
    <div id="wrapper">

      <!-- Sidebar -->
      <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

        <!-- Sidebar - Brand -->
        <a class="sidebar-brand d-flex align-items-center justify-content-center" >
          <div class="sidebar-brand-text mx-3">CEGE0043 App</div>
        </a>

        <!-- Divider -->
        <hr class="sidebar-divider">

        <!-- Nav Item - Pages Collapse Menu -->
        <li class="nav-item d-none d-lg-block" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseQuizset" aria-expanded="true" aria-controls="collapseQuizset">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Quiz Setting</span>
          </a>
          <div id="collapseQuizset" class="collapse" aria-labelledby="headingThree" data-parent="#accordionSidebar">
            <div class="bg-white py-2 collapse-inner rounded">
              <a class="collapse-item" href="#" onclick="alert('Enter question!')";>Add Question</a>

              <label for="question_title">Question Title:</label><input type="text" size="25" id="question_title"/><br/>
              <label for="question_text">Question:</label><input type="text" size="25" id="question_text"/><br/>
              <label for="choice1">Enter choice 1:</label><input type="text" size="25" id="choice1"/><br />
              <label for="choice2">Enter choice 2:</label><input type="text" size="25" id="choice2"/><br />
              <label for="choice3">Enter choice 3:</label><input type="text" size="25" id="choice3"/><br />
              <label for="choice4">Enter choice 4:</label><input type="text" size="25" id="choice4"/><br />
              <label for="correct_answer">Enter correct answer number (ex. 1, 2, 3 or 4):</label><input type="text" size="25" id="correct_answer"/><br />
              <p id="content_lat" size="25">Latitude:</p><p id="quiz_latitude" size="25"></p>
              <p id="content_lon" size="25">Longitude:</p><p id="quiz_longitude" size="25"></p>
              <p>Click here to upload the data</p>
              <button id="startUpload" onclick="startDataUpload()">Start Data Upload</button> <br /> <br />
              <div id="dataUploadResult">The result of the upload goes here</div> <br /> <br />
            </div>
          </div>
        </li>


        <!-- Divider -->
        <hr class="sidebar-divider">
        <!-- Nav Item - Pages Collapse Menu -->
        <li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
            <i class="fas fa-fw fa-cog"></i>
            <span>Start Quiz</span>

          </a>
          <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionSidebar">
            <div class="bg-white py-2 collapse-inner rounded">
              <a class="collapse-item" href="#" onclick="alert('menu 3')";>Answer Question</a>
              <a class="collapse-item" href="#" onclick="alert('menu 4');">Question list</a>
            </div>
          </div>
        </li>

        <!-- Nav Item - Pages Collapse Menu -->
        <li class="nav-item">
          <a class="nav-link collapsed"  data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
            <i class="fas fa-fw fa-cog"></i>
            <span>Modify</span>
          </a>
          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
            <div class="bg-white py-2 collapse-inner rounded">
              <h6 class="collapse-header">Delete record</h6>
              <label for="deleteID">Delete ID</label><input type="text" size="25" id="deleteID"/><br />
              <button id="startDelete" onclick="deleteRecord()">Delete Record</button>
              <div id="dataDeleteResult">The result of the delete goes here</div>
              <a class="collapse-item"  onclick="alert('menu 7');">View all question</a>
              <button id="loadFormData" name="loadFormData" onclick="loadFormData()">Click here to load the question popup data </button>
              <button id="removeFormData" name="removeFormData" onclick="removeFormData()">Click here to remove the question popup data </button>
            </div>
          </div>
        </li>


        <!-- Nav Item - Pages Collapse Menu -->
        <li class="nav-item">
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
            <i class="fas fa-fw fa-cog"></i>
            <span>Resource</span>
          </a>
          <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionSidebar">
            <div class="bg-white py-2 collapse-inner rounded">
             <a class="collapse-item" href="#" onclick="alert('menu 9');">Location</a>
             <button id="getUserLocation1" onclick='trackLocation()'>Get Location!</button>
             <div id="showLocation">Your position is here!</div>

             <a class="collapse-item" href="#" onclick="alert('going to help page')">Help documentation</a>
           </div>

           </div>
         </li>



       </ul>
       <!-- End of Sidebar -->

       <div id="content-wrapper" class="d-flex flex-column">
        <div id="mapContainer"></div>
      </div>
      <!-- End of Main Content -->
    </div>
    <!-- end of wrapper -->

  </body>
  <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>

  <!-- Bootstrap core JavaScript-->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="js/sb-admin-2.js"></script>


<!-- functionality to get ports -->
<!-- load funcitonal javascript-->
<script src="js/loadBasemap.js"></script>
<script src="js/utilities.js"></script>
<script src="js/trackLocation.js"></script>
<script src="js/upload_question.js"></script>
<script src="js/popupForm.js"></script>


<script>
  function loadMap() {
  loadLeafletMap();
  loadUserPosition();
  getPorts();
  locate();
}

// remove layer function
function removeFormData() { alert("remove the question layer here"); mymap.removeLayer( formLayer ); }

setInterval(locate, 3000); // request relocate user postion

document.addEventListener('DOMContentLoaded', function() {
  console.log("listener domcontentloaded");
  loadMap();
}, false);

</script>

  </html>
